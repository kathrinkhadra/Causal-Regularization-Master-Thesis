import numpy as np
import matplotlib.pyplot as plt
import re


#-----------------------factor1000---------------------------

ACEvalue_withACE_factor1000=[5.0339928004745484e-05, -1.97555544555639e-05, -7.170066015808653e-05, -0.00011465822877372545, -0.00010551254608238819, -9.684069679880498e-05, -1.0289694824331662e-05, -1.5423301546658077e-05, -2.1438057108878262e-05, -3.846228420207169e-05, -8.59100459048998e-05, -9.04352742743352e-05, -0.00012627320316837797, -0.00016597328915023298, -0.00016866048250569767, -0.00013248918367768194, -7.596318120749472e-05, -3.2631745931657574e-05, -2.3614514264281443e-05, 6.520171416753718e-06, -1.4434435517379121e-05, -2.4113710460326035e-05, -2.643281045323785e-05, -1.3268681534920209e-05, -1.8092574564646192e-05, -9.165668220705502e-06, -5.8297966147116985e-06, -1.2250560407876503e-05, -1.860886669856415e-05, -2.2823341836136405e-05, -3.717440325916251e-05, -5.116165986588365e-05, -4.8211420846534606e-05, -4.099080388071618e-05, -2.7188294421013758e-05, -1.5944104233168522e-05, -3.889361798247994e-06, -4.5313160159193295e-07, -3.960365036583156e-06, -2.6983132951429585e-05, -6.071929492198996e-05, -9.760279115148806e-05, -0.00011522069358192232, -0.00011740920824493237, -0.00010625854701974698]

ACEvalue_withACE_factor1000_1=[7.08218719754232e-06, -4.831199581525037e-05, -1.3832177156541889e-05, -1.92366989632022e-05, -3.836211177183741e-05, -0.00015986050404283818, -8.362270282607506e-05, -1.784329691447036e-05, -6.2583066929061e-05, -9.159374959066198e-05, -0.00011799368735402944, -9.552574394277378e-05, -8.991550567918151e-05, -7.887007282471723e-05, -8.77182343147982e-05, -0.00014404366046366973, -0.00014323313781866863, -0.0001498318237546104, -0.000189574109868895, -0.00023599534136523818, -0.0002851818936702766, -0.00030579122363161645, -0.0002673748831043787, -0.00025086439717171956, -0.00023549729638457144, -0.00026164775031584217, -0.000291642527548001, -0.0002897598047608641, -0.00028133055258621175, -0.0002781888852410078, -0.0002812102951427595, -0.0002642273326057139, -0.00026451536003742863, -0.0002638451964268925, -0.00025173381681135404, -0.0002489732841215699, -0.00023689050758151598, -0.000246048545433529, -0.0002503987030096526, -0.0002609976339041728, -0.000274203105976884, -0.0002824481470361172, -0.00029185372817072403, -0.0003096136732982633, -0.0003081406160822012]

ACEvalue_withACE_factor1000_2=[2.6649784090344134e-05, -1.1454529598825752e-05, -6.89018710280237e-05, -5.5740521340052114e-05, -0.0001351844161032666, -9.07409398822226e-05, -5.6723803683973354e-05, -1.3197682517997913e-05, -1.5003757148368911e-05, -6.643914001991745e-05, -4.414046332769001e-05, -4.173815444490088e-06, -3.8896051016415976e-06, -1.0209436265044372e-05, -5.9662156891375446e-05, -8.173236856623163e-05, -9.109475546113167e-05, -0.00010999722703772695, -0.00011367769779336217, -9.03919015212213e-05, -8.875309136257554e-05, -9.599348041042154e-05, -0.00011048291530788064, -0.0001446658155721849, -0.00017046056158821798, -0.00019040274660530945, -0.00019958175997805133, -0.00020422464862617596, -0.00021572109622806357, -0.00023052421738096294, -0.0002558766139525773, -0.0002741821951934932, -0.0002755357464536466, -0.0002652633024515631, -0.0002602169002764326, -0.0002590692634558224, -0.0002504005184906577, -0.00024541772324534247, -0.00023337784829352077, -0.00021491587294747988, -0.0001954511718119156, -0.00018244991164352543, -0.0001795162362954934, -0.00016710649211828998, -0.0001580384938176309]


test_MSE_withACE_factor1000=[0.0117,0.0142,0.0125]

#-----------------------factor100---------------------------

ACEvalue_withACE_factor100=[4.041868753823821e-05, 2.0845550000232872e-05, -2.6125770872194016e-06, -2.3108482776166107e-05, -4.516589807307859e-05, -0.0001013374727070644, -0.00012116779596545396, 4.9764775739748e-06, -4.7534773589178334e-05, -5.7070319450932416e-05, -5.778234629549485e-05, -3.0535589583882785e-05, -1.3043254645669714e-06, 3.09222768725554e-05, 3.6503086385793605e-05, 3.85848153460912e-05, 5.333798188010181e-05, 4.014041507383465e-05, -1.920970388142362e-06, -5.71334745956561e-05, -8.511058439179527e-05, -0.00010004261879822208, -0.00012743545967053462, -8.51578351557921e-05, -7.412661999211541e-05, -5.419778851077854e-05, -7.009879758951352e-05, -9.959144055569776e-05, -0.00013962047465366476, -0.00018304095261162636, -0.0002252219721616243, -0.0002539057722656612, -0.0002569953618130018, -0.00028773293667040423, -0.0003453477049268772, -0.0003656421701446502, -0.00035294507070362196, -0.0003627716386230183, -0.00036896684464953085, -0.0003781510383744857, -0.00037452807378896154, -0.00038133061716306375, -0.0003822541749269417, -0.0003952538656268268, -0.0003915421416929363]

ACEvalue_withACE_factor100_1=[4.350623885919216e-05, -2.0825858973758046e-05, -1.8950456425572843e-05, -2.5308519242894997e-05, -2.7589635510483057e-05, 2.3814162037227988e-05, -3.509234314332531e-05, -2.8630441254299547e-05, -6.36409680703631e-05, -4.811508305628301e-05, -7.62254902848416e-05, -1.9725560924917796e-05, -1.485435952101414e-05, -3.1540500117841074e-05, -1.5935720924392607e-05, -7.707145654202825e-06, -1.5222696209680854e-05, -9.537039337791625e-06, -4.095534488024271e-05, -2.1170403009461285e-05, -3.583144715361538e-05, -4.355383343168964e-05, -6.328460395686644e-05, -0.00010917722544701624, -0.00014600802836768642, -0.00017000538739114272, -0.00019199447487554835, -0.00020667842449580292, -0.00019951794641541213, -0.0002243051748146814, -0.00024386914342695065, -0.00025045193383812825, -0.0002625221652883705, -0.00021482691819501895, -0.00020720672227934414, -0.00021840080573365498, -0.00018910443847147045, -0.00017376742382985705, -0.00016778338199951534, -0.0001657435981936339, -0.00016336083182802428, -0.00017149212811216693, -0.0001724375685510995, -0.0001750253921376716, -0.00018002407937948062]

ACEvalue_withACE_factor100_2=[1.4535965996356108e-05, -7.729003824732596e-06, -8.464262457034606e-06, 4.438998879157488e-05, 5.998242341638948e-07, 1.3331750903836601e-05, 4.571347442727476e-05, 3.827587610730848e-05, 1.5118842187808079e-05, 1.6957566980477457e-05, 1.987702106479523e-05, 2.8140355323968787e-05, 3.484322600772711e-05, 8.816917430516442e-07, -8.709429863007529e-05, -9.690210451513902e-05, -8.960474724009874e-05, -5.640039854666269e-05, -9.944044973951395e-06, 9.238963986231829e-06, 1.3308204391304437e-05, 2.9252113137469354e-05, 3.525497325623208e-05, 5.9107604793359967e-05, 6.53472987042382e-05, 7.208010708064944e-05, 1.3934034695818603e-05, 8.277709724119134e-06, 1.3348122189610292e-05, 8.645171735658693e-06, 1.2414612307008671e-05, -4.146250921246217e-06, 2.328141138400061e-06, 1.536116649316197e-05, 5.686945538738972e-05, 9.775490914159362e-05, 9.706348404716073e-05, 8.650775938565596e-05, 8.192639889475894e-05, 6.69205245088072e-05, 4.9244589935559386e-05, 4.68309579432979e-05, 1.4980804569357136e-05, 2.0154520146000402e-05, 5.755509465140873e-06]


test_MSE_withACE_factor100=[0.0122,0.0118,0.0139]


#-----------------------factor10---------------------------


ACEvalue_withACE_factor10=[5.177408772537059e-05, 1.8180255850622517e-05, 4.701115008389553e-05, 2.728698395014684e-05, -9.373568643585793e-05, 1.3260481790805548e-06, 2.0466161526242065e-05, -2.3240442166360527e-05, -3.270177418082326e-05, 1.3093005737602504e-05, 4.145860368488464e-05, 4.4480955295089616e-05, 3.660165665966361e-05, 2.4528510749007306e-05, 2.3980114765296768e-05, 3.502885566814556e-05, 7.033048832006165e-05, 7.625650663920023e-05, 5.051098737399265e-05, 3.0230961229796097e-05, 1.28701498690698e-05, -4.679353456426881e-06, -1.898133520129963e-05, -4.826259902390535e-05, -6.710875629533882e-05, -8.098805578496861e-05, -8.254208289165012e-05, -7.103076656988135e-05, -6.775659154041217e-05, -6.339418404241615e-05, -7.771288128264128e-05, -9.34272318412181e-05, -0.00010759331787597813, -0.00011655567393596369, -0.00011685453723304805, -0.00012656709265720034, -0.00014697846234179343, -0.00015422140446718578, -0.00016192959645210263, -0.00020877423134569884, -0.00027113814260363385, -0.00029851934160127983, -0.00029147411325490817, -0.00028069659157750653, -0.0002693135747806162]

ACEvalue_withACE_factor10_1=[3.880900776920619e-05, 7.159941642491312e-05, 3.790542886556231e-05, 4.173459364396768e-05, 3.1953924277711805e-05, -2.9365455671159673e-05, -2.8442172917779928e-05, 1.992876014288152e-05, 2.8382632859785817e-05, 4.2596376718008625e-05, 7.862364847859647e-06, 4.5040247356575465e-05, 2.825363024442641e-05, -5.594545301199867e-05, -8.429855412999605e-05, -9.077657006801317e-05, -0.00014027355629424264, -0.00015626110562706904, -0.00016635883834259082, -0.00017371025636497603, -0.0001732704874172985, -0.0001496332131648144, -0.0001526664557315811, -0.00015686125791226164, -0.0001741070447506259, -0.00020170209791426955, -0.00020737080993944143, -0.00022174747401456388, -0.00023927932599253764, -0.0002459564060954762, -0.00023302018521159586, -0.0002254799044251679, -0.00021134739873217284, -0.00019717101535442785, -0.00018765376259372545, -0.00018079329225188887, -0.0001769864894441331, -0.0001702865798346385, -0.0001720695798963592, -0.00016949485900069004, -0.00017114903135412906, -0.00017579400935384293, -0.0001774440414476433, -0.0001737323569103707, -0.00018135058559003842]

ACEvalue_withACE_factor10_2=[-5.3727683747819366e-05, -8.818475262088045e-05, -3.607668389385206e-05, -5.0243564598081666e-05, -0.00011563329532234988, -0.00017105063705613585, -0.00012089792355059564, -0.00010539392203328415, -0.00014649449172492513, -0.00011675598067448875, -5.1085679075076176e-05, -5.348639705101787e-05, -6.63830736609513e-05, -7.244450217516193e-05, -7.381816212458294e-05, -9.431021346381578e-05, -6.061604703715811e-05, -5.125006046609908e-05, -7.041012037892203e-05, -7.695856346795872e-05, -8.413675901894724e-05, -8.010129282350696e-05, -6.602391902974792e-05, -8.672158174160972e-05, -0.00015821278135654316, -0.00020989437079978822, -0.0002728957225446057, -0.0003171731537488264, -0.00035033707112601793, -0.0003618629543186087, -0.0003560696073451556, -0.0003813488020418594, -0.0003958185040048073, -0.0004137010429372913, -0.00042453851028169924, -0.00045283093849431334, -0.0004563057532648731, -0.00045544503446709656, -0.0004579038222798804, -0.00046397560088104527, -0.00046628400110959486, -0.0004728724967223431, -0.00047539981310163674, -0.00047201809732529164, -0.0004836058115803634]


test_MSE_withACE_factor10=[0.0135,0.0122,0.0111]#0.2179

#-----------------------factor1---------------------------
ACEvalue_withACE_factor1=[-8.93471748234232e-05, -8.240263356781461e-05, -9.434471752093311e-05, 1.9086752213828582e-05, -1.589489654087909e-05, -2.3724384894985348e-05, -3.4682139729568435e-05, 2.207835788030374e-05, 4.478876223538679e-05, 2.1559232749713503e-05, -1.96835345703615e-06, -2.961158134218625e-05, 3.4968445565958267e-06, 3.342106433216384e-05, -2.4145890166738898e-05, -4.407352242191739e-05, -0.00010495553927427073, -0.00010116180899861964, -0.00011421569716211527, -0.0001404349324082495, -0.00015366020554325187, -0.00015713912870573654, -0.0001701967688992776, -0.00018899302710601108, -0.0002180315160209336, -0.0002779888331026121, -0.0002889576353689461, -0.00027967468990151004, -0.000252418489941271, -0.00023399423465889836, -0.00024234611031080544, -0.00024807867755837225, -0.0002500785847617361, -0.0002613175881940443, -0.00028117051893362976, -0.00030928289098888355, -0.00032311403466380606, -0.0003262090943096787, -0.0003341615103060584, -0.0003237261896614225, -0.0003317881120866874, -0.0003207121906068643, -0.0002736857013047096, -0.0002718403067530795, -0.00026465607503897535]

ACEvalue_withACE_factor1_1=[3.32423404317191e-05, 1.2825103933474457e-05, -1.006713987481623e-05, 5.488312729854856e-05, -2.2615236585877082e-05, -5.315631775930343e-05, -4.456873742740361e-06, 7.886491231517146e-05, 0.00013035179611691522, 0.00014972690634001374, 0.00016465953471690752, 0.00012447776441346718, 8.52217945982273e-05, 2.1114090884604704e-05, -7.778107214258224e-06, -3.2685870392568874e-05, -5.863064842084784e-05, -0.00010330729706901368, -0.00012674474784429038, -0.00014676868387957404, -0.00021117740443859012, -0.00027178578481142855, -0.0003603297281090101, -0.0002904066458545835, -0.0002885724911404182, -0.0002771731505278925, -0.0002831857210326932, -0.0002880303382614787, -0.00028500476376963586, -0.0002738591558066522, -0.0002653324808710371, -0.00026405558074441997, -0.0002592465285170753, -0.00025942950604253783, -0.00026280500753572065, -0.00027297001976841074, -0.00028484096325946705, -0.00028070825487908643, -0.0002795841005628897, -0.0002572378774091124, -0.00024122454598286532, -0.00023079135941364478, -0.00022110523113002056, -0.00021119240201431278, -0.00019088631315236664]

ACEvalue_withACE_factor1_2=[2.952901139819463e-05, -1.2758608967815375e-05, 2.094503437714098e-05, -3.530791926367855e-05, -5.748083062983468e-05, -6.330832502425274e-05, -7.290113817005823e-05, -3.5092926607101556e-05, 3.0573607385037116e-05, 5.428554884102925e-05, 7.687558608945317e-06, -4.499509254545116e-05, -0.00014581238278362104, -0.00022419544111041691, -0.0001895876807897723, -0.0001823238268746783, -0.00018307317362144712, -0.0001942750882745838, -0.0001969331791635723, -0.00023072850273060162, -0.000280514431692539, -0.0004064545385124418, -0.0003901800733572841, -0.0004522235867509847, -0.00048619318577257956, -0.0005343558901163277, -0.0005544980024410536, -0.0005807653849589371, -0.0005847495336224558, -0.0006267643317073316, -0.0006682327503627855, -0.0007133449309497346, -0.0007319935992695794, -0.0007497810327223807, -0.0007661319702529844, -0.0007888819437816249, -0.0007867744456745714, -0.0007983273821193948, -0.0007804324840034434, -0.0007651532207299754, -0.0007536214365822291, -0.0007585374855548972, -0.000758210018020444, -0.000748740450843603, -0.0007358428809554113]


test_MSE_withACE_factor1=[0.0110,0.0120,0.0148]

#-----------------------factor01---------------------------
ACEvalue_withACE_factor01=[-2.402504376203497e-06, -8.337055963608623e-06, -5.8273759867969134e-05, -9.767292435011888e-05, -0.00014197515310256242, -0.00011188835651521536, -1.2274394564145743e-05, 1.8707637365189624e-05, 7.988077038356116e-06, 1.2318841261158491e-05, -6.441597010860376e-07, 1.5717167847038425e-05, -6.297961315855736e-07, -3.8476214868094355e-05, -6.263489428397041e-05, -9.388368731385725e-05, -7.591716594684828e-05, -6.7365357079742e-05, -4.819080570179427e-05, -2.276124104527567e-05, -1.6098132810566788e-05, -3.7657956048381327e-05, -4.576752569622171e-05, -2.5598008993561678e-05, -1.9987941430346172e-05, -9.457372917132711e-05, -6.465174129013994e-05, -4.489821646880511e-05, -5.047149121618734e-05, -4.050659958383356e-05, -3.5578418464927664e-05, -2.0083247402784908e-05, -2.7734553683546632e-05, -2.402307079538902e-05, -3.504441350520294e-05, -3.762150061544171e-05, -4.099079662030585e-05, -7.330304402133618e-05, -9.098743456272512e-05, -0.00011470492805184863, -0.00013322561646654694, -0.00015737533103336258, -0.00016776636243469892, -0.00019692550024113175, -0.00021413530705049067]

ACEvalue_withACE_factor01_1=[2.323333265405051e-05, -2.8565169484318034e-05, -2.5968833715461664e-05, -6.491383746622069e-05, -0.00011214700366538617, -7.06845819332274e-05, -8.198609819482484e-05, -9.418862205510605e-05, -8.365077888078856e-05, -0.00011206066432350833, -0.00013376598954991094, -0.0001292083424636061, -8.320315230442247e-05, -4.140390683753527e-05, 1.5208288567050269e-05, 2.4390465960561197e-05, -5.5519585327457044e-05, -0.00011838136165877526, -0.00017022099932158258, -0.00017543312984075708, -0.00018601718348597952, -0.00016847831650772672, -0.00016831107863873664, -0.0001467524512326566, -0.00013641764239106241, -9.857458864237122e-05, -8.967109586178717e-05, -0.0001480803880087666, -0.00017680522881351535, -0.00019597382206020282, -0.00019736866322162127, -0.00017943753383897193, -0.00017164395399025197, -0.00016365267931778908, -0.00017511448520146777, -0.0002010874093301255, -0.0002157627659587534, -0.00024219162377349645, -0.00026138825107571977, -0.0002876519164051969, -0.0003198825469118237, -0.0003356636828116622, -0.00036262679869206486, -0.0003801213041959308, -0.0003870175443118024]

ACEvalue_withACE_factor01_2=[-8.824389367812378e-06, -9.286612747203633e-06, -3.981514017192164e-05, -3.9808012630308714e-05, -3.1022559842193995e-05, -1.7916124706895495e-05, -1.9182308815690244e-05, 1.9516562752191683e-05, 1.9115703589154897e-05, 4.4168653114352254e-05, 3.0986365889426014e-05, 6.938423428302874e-05, 8.861557331067934e-05, 7.856629335378093e-05, 7.1265666925969e-05, 3.5203206804109524e-05, 2.281460534158461e-05, 1.8726151179943316e-05, 4.005714724730248e-05, 5.144227129464416e-05, 6.555665536861722e-05, 6.731103567126615e-05, 6.450527636933552e-05, 5.424297023312349e-05, 1.874395162822848e-05, 2.123702617581163e-06, -2.7797233553087912e-05, -2.962513725222823e-05, -2.784720058010572e-05, -3.277131521156307e-05, -5.4168554598709134e-05, -7.118581252566654e-05, -9.19887134246237e-05, -0.0001136018367373743, -0.00012207727852710636, -0.00011741216020638737, -0.00011750171383751587, -0.00012415699371848602, -0.00014834649019324154, -0.00016392757064506206, -0.00017137181732533702, -0.00017392504675750286, -0.00017759664917074285, -0.00019071051056018207, -0.0001937250819229999]


test_MSE_withACE_factor01=[0.0108,0.0105,0.0125]

#-----------------------NoACE---------------------------

ACEvalue_noACE=[1.780909742054505e-05, 3.4650582837258815e-06, 2.008467320791797e-05, -1.1259695795842204e-05, -2.4887055405083927e-05, -3.49871917156555e-05, -1.4240337100755761e-05, -1.2655207994928445e-05, -3.95598116303325e-06, -1.0856771927781879e-05, -2.6075414885094538e-05, -1.155050040641255e-05, -2.5086542309088153e-05, -2.390519259377282e-05, -4.3712358695120296e-05, -5.7637395823659504e-05, -5.579347461741787e-05, -8.138978454988506e-05, -0.0001250579646819783, -0.00012335788946238064, -0.00010784199656128721, -0.00011284860560943456, -0.00010514759790514833, -0.00012178128344143463, -0.00012909310861352824, -0.000173756952413496, -0.00015572365020542357, -0.0001389248619234069, -0.00013218998514377025, -0.00014130456369603405, -0.00016134313913982528, -0.00016013501382425874, -0.00016760516390421714, -0.00016687926663761724, -0.00017259986481723535, -0.00017928037149770267, -0.00018005055797423638, -0.00018884575717796568, -0.00019428948687254325, -0.00019811597757388882, -0.00019528769223316493, -0.00019592053521464586, -0.0001922428413061871, -0.00019859671699593045, -0.00020102254277063475]

ACEvalue_noACE_1=[7.570807207621778e-06, 8.856755308637652e-07, 1.2423579271004334e-05, 4.317298759876845e-05, 2.6474113522648233e-05, 2.831892798635969e-06, 7.176669450728134e-06, 5.472042448860782e-06, 4.392700975602392e-05, 5.5553366649276845e-05, 0.00011420423576684032, 0.00010166045803989894, 8.443692359794181e-05, 8.570267018748958e-05, 6.692566623903619e-05, 2.9056290802387305e-05, 1.6748514080853705e-05, -2.2361450410649783e-06, -1.4634202939277864e-05, -3.256220426476596e-05, -3.175175379433751e-05, -5.624695626341575e-05, -7.376000884741215e-05, -9.746776441285202e-05, -0.00014717643867524262, -0.00017514136784240098, -0.00018513936250142264, -0.00017204613917599535, -0.0001538016784726234, -0.00017754631014104742, -0.00019673960096189855, -0.00023320901336938555, -0.00021647607644839328, -0.0002141268553566983, -0.00021471375737873203, -0.0002055198869600044, -0.00018731907127828788, -0.0001970140617836767, -0.00018119583777789511, -0.00018192471330416414, -0.00018722946667558968, -0.000186059088806825, -0.00019315006929666092, -0.00018876891910056518, -0.00018534417016307942]


ACEvalue_noACE_2=[-6.896950398529902e-06, -4.493677028989908e-05, -5.578943251069498e-05, -9.961269348031539e-05, -0.00011868574245979953, -7.224062707301625e-05, -0.00011344802185105169, -0.00011496069005620247, -0.00013403666161559722, -0.00015352269132353985, -0.0001650481972923669, -0.0001574875592299654, -0.00014213695566046294, -0.00010609209192048647, -0.00011042856315252663, -9.026555355806797e-05, -5.9279295212314276e-05, -8.707036198831921e-05, -4.186472494932862e-05, 3.298403144752102e-06, 2.7093441131381887e-05, 1.9010368405928278e-05, 4.306523854591639e-06, -1.20542384929308e-05, -6.098271228705405e-06, -6.594262512878114e-06, -9.756552671422495e-06, -2.2043772416255e-05, -3.822383668555846e-05, -5.424421791821436e-05, -7.667420328240705e-05, -9.388285136116689e-05, -0.00011234499722029657, -0.00011331185692650146, -0.00011972961640804962, -0.0001276622438425541, -0.00013960084036789203, -0.00016895682380206788, -0.00023871454619353921, -0.0002383396478067191, -0.00026835802441553893, -0.0002903514069113776, -0.00032091616964147456, -0.0003177948143874125, -0.0003249709305973404]


without_ACE_test_MSE=[0.0122,0.0108,0.0097]

#-----------------------plotting---------------------------

#x_axis=np.arange(1, 451)
#plt.plot(x_axis,training_MSE_noACE_factor1000, linestyle='dashed',label="Without ACE")
#plt.plot(x_axis,training_MSE_withACE_factor1000, label="Factor 1000")
#plt.plot(x_axis,training_MSE_withACE_factor100, label="Factor 100")
#plt.plot(x_axis,training_MSE_withACE_factor10, label="Factor 10")
#plt.xlabel('Training epoch')
#plt.ylabel('Mean Square Error (MSE)')
#plt.legend(loc='upper right')
#plt.savefig('Training_entwicklung_layer.png')
#plt.close()


#ACEvalue_withACE_factor100=ACEvalue_withACE_factor100[0::10]
#ACEvalue_withACE_factor10=ACEvalue_withACE_factor10[0::10]
#ACEvalue_withACE_factor01=ACEvalue_withACE_factor01[0::10]

#ACEvalue_noACE_factor100=ACEvalue_noACE_factor100[0::10]
#ACEvalue_noACE_factor10=ACEvalue_noACE_factor10[0::10]
#ACEvalue_noACE_factor01=ACEvalue_noACE_factor01[0::10]
#print(len(ACEvalue_noACE_factor01))

ACEvalue_noACE=[ACEvalue_noACE,ACEvalue_noACE_1,ACEvalue_noACE_2]#,ACEvalue_noACE_factor10

ACEvalue_withACE_factor01=[ACEvalue_withACE_factor01,ACEvalue_withACE_factor01_1,ACEvalue_withACE_factor01_2]
ACEvalue_withACE_factor1=[ACEvalue_withACE_factor1,ACEvalue_withACE_factor1_1,ACEvalue_withACE_factor1_2]
ACEvalue_withACE_factor10=[ACEvalue_withACE_factor10,ACEvalue_withACE_factor10_1,ACEvalue_withACE_factor10_2]
ACEvalue_withACE_factor100=[ACEvalue_withACE_factor100,ACEvalue_withACE_factor100_1,ACEvalue_withACE_factor100_2]
ACEvalue_withACE_factor1000=[ACEvalue_withACE_factor1000,ACEvalue_withACE_factor1000_1,ACEvalue_withACE_factor1000_2]

var_noACE=np.var(ACEvalue_noACE, axis=0)
mean_noACE=np.mean(ACEvalue_noACE, axis=0)
#print(var.shape)
#print(mean.shape)
x_axis=[10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400,410,420,430,440,450]
#x_axis=np.arange(1, 451)
#plt.plot(x_axis,ACEvalue_withACE_factor1000, label="Factor 1000")
#plt.plot(x_axis,ACEvalue_withACE_factor100, label="Factor 100")
#plt.plot(x_axis,ACEvalue_withACE_factor10, label="Factor 10")
#plt.plot(x_axis,ACEvalue_withACE_factor1, label="Factor 1")
#plt.plot(x_axis,ACEvalue_withACE_factor01, label="Factor 0.1")
plt.errorbar(x_axis, np.mean(ACEvalue_withACE_factor10, axis=0), yerr=np.var(ACEvalue_withACE_factor10, axis=0), linestyle='-', marker='s', markersize=2, label="Factor 10")
plt.errorbar(x_axis, np.mean(ACEvalue_withACE_factor1, axis=0), yerr=np.var(ACEvalue_withACE_factor1, axis=0), linestyle='-', marker='s', markersize=2, label="Factor 1")
plt.errorbar(x_axis, np.mean(ACEvalue_withACE_factor01, axis=0), yerr=np.var(ACEvalue_withACE_factor01, axis=0), linestyle='-', marker='s', markersize=2, label="Factor 0.1")
plt.errorbar(x_axis, np.mean(ACEvalue_withACE_factor100, axis=0), yerr=np.var(ACEvalue_withACE_factor100, axis=0), linestyle='-', marker='s', markersize=2, label="Factor 100")
plt.errorbar(x_axis, np.mean(ACEvalue_withACE_factor1000, axis=0), yerr=np.var(ACEvalue_withACE_factor1000, axis=0), linestyle='-', marker='s', markersize=2, label="Factor 1000")
plt.errorbar(x_axis, mean_noACE, yerr=var_noACE, linestyle='--', marker='s', markersize=2, label="Without ACE")
#plt.plot(x_axis,ACEvalue_noACE_factor1000, label="No ACE")
plt.xlabel('Training epoch')
plt.ylabel('Average causal effect (ACE)')
plt.legend(loc='upper right')
plt.savefig('ACE_entwicklung_layer_noshift.png')
plt.close()

#x_axis=[1,2,3,4]
#my_xticks = ['Factor 1','Factor 1000','Factor 1000','Factor 10000']
#with_ACE_test_MSE=[test_MSE_withACE_factor1,test_MSE_withACE_factor1000,test_MSE_withACE_factor1000_1,test_MSE_withACE_factor10000]
#without_ACE_test_MSE=[test_MSE_noACE_factor1,test_MSE_noACE_factor1000,test_MSE_noACE_factor1000_1,test_MSE_noACE_factor10000]

x_axis=[1,2,3,4,5]
my_xticks = ['Factor 0.1','Factor 1','Factor 10','Factor 100','Factor 1000']
means_with_ACE_test_MSE=[np.mean(test_MSE_withACE_factor01),np.mean(test_MSE_withACE_factor1),np.mean(test_MSE_withACE_factor10),np.mean(test_MSE_withACE_factor100),np.mean(test_MSE_withACE_factor1000)]
var_with_ACE_test_MSE=[np.var(test_MSE_withACE_factor01),np.var(test_MSE_withACE_factor1),np.var(test_MSE_withACE_factor10),np.var(test_MSE_withACE_factor100),np.var(test_MSE_withACE_factor1000)]
#without_ACE_test_MSE=[test_MSE_noACE_factor01,test_MSE_noACE_factor1,[test_MSE_noACE_factor10,test_MSE_noACE_factor10],[test_MSE_noACE_factor100,test_MSE_noACE_factor100],[test_MSE_noACE_factor1000,test_MSE_noACE_factor1000]]

#print(without_ACE_test_MSE)
#without_ACE_test_MSE = [x for sublist in without_ACE_test_MSE for x in sublist]
#without_ACE_test_MSE=np.array(without_ACE_test_MSE).flatten()
#print(without_ACE_test_MSE)
#print(without_ACE_test_MSE.ravel())

var=np.var(without_ACE_test_MSE)
mean=np.mean(without_ACE_test_MSE)
without_ACE_test_MSE=[mean,mean,mean,mean,mean]

plt.xticks(x_axis, my_xticks)
#plt.plot(x_axis,with_ACE_test_MSE, marker='o', markersize=2,label="With ACE")
#plt.plot(x_axis,without_ACE_test_MSE, marker='o', label="Without ACE")
plt.errorbar(x_axis, means_with_ACE_test_MSE, yerr=var_with_ACE_test_MSE, linestyle='-', marker='s', markersize=2, label="With ACE")
plt.errorbar(x_axis, without_ACE_test_MSE, yerr=var, linestyle='--', marker='s', markersize=2, label="Without ACE")
plt.xlabel('Factor')
plt.ylabel('Mean Square Error (MSE)')
plt.legend(loc='upper right')
plt.savefig('Test_entwicklung_layer_noshift.png')
plt.close()
